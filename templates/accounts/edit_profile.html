{% extends 'base.html' %}
{% load static %}
{% block content %}
<style>
.profile-img {
    width: 100px;
    height: 100px;
    border-radius: 50px;
    object-fit: cover;
    object-position: top;
}
</style>
<section class="section-conten padding-y bg-light">

    {% include 'includes/alerts.html' %}

    <div class="container">
        <div class="row">
            {% include 'includes/dashboard_sidebar.html' %}

            <main class="col-md-9">
                <article class="card shadow-lg rounded-2xl border-0">
                    <header class="card-header bg-black text-white py-3 px-4 rounded-top-2xl">
                        <h4 class="mb-0">Edit Your Profile</h4>
                    </header>
                    <div class="card-body p-4">
                        <div class="text-right">
                        <div>
                            {% if userprofile.profile_picture %}
                                <img src="{{ userprofile.profile_picture.url }}" class="profile-img" alt="profile picture">

                            {% else %}
                                <img src="{% static 'images/default_profile.jpeg' %}" alt="Default profile picture" width="100" style="border-radius:50px;">
                            {% endif %}
                        </div>
                        </div>

                        <form action="{% url 'edit_profile' %}" method="POST" enctype="multipart/form-data">
                            {% csrf_token %}

                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="first_name" class="form-label">First Name</label>
                                    {{user_form.first_name}}
                                </div>
                                <div class="col-md-6">
                                    <label for="last_name" class="form-label">Last Name</label>
                                    {{user_form.last_name}}
                                </div>
                            </div>

                            <div class="row g-3 mt-3">
                                <div class="col-md-6">
                                    <label for="phone_number" class="form-label">Phone Number</label>
                                    {{user_form.phone_number}}
                                </div>
                                <div class="col-md-6">
                                    <label for="profile_picture" class="form-label">Profile Picture</label>
                                    {{ profile_form.profile_picture }}
                                </div>
                            </div>

                            <div class="row g-3 mt-3">
                                
                            </div>

                            <div class="row g-3 mt-3">
                                <div class="col-md-4">
                                    <label for="city" class="form-label">City</label>
                                     {{ profile_form.city }}
                                </div>
                                <div class="col-md-4">
                                    <label for="district" class="form-label">District</label>
                                     {{ profile_form.district }}
                                </div>
                                <div class="col-md-4">
                                    <label for="country" class="form-label">Country</label>
                                     {{ profile_form.country }}
                                </div>
                            </div>

                            <div class="mt-4 text-end">
                                <button type="submit" class="btn btn-save btn-lg rounded-pill">
                                    <i class="fa fa-save me-2 btn-icon"></i> Save Changes
                                </button>
                            </div>
                        </form>
                    </div>
                </article>
            </main>
        </div>
    </div>
</section>

<style>
/* Card styling */
.card {
    border-radius: 1rem;
    transition: all 0.3s ease-in-out;
    background-color: #fff;
    color: #000 !important;
}

.card:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 25px rgba(0,0,0,0.15);
}

.card-header {
    border-bottom: none;
    font-weight: 600;
    background-color: #000;
    color: #fff !important;
}

/* Inputs styling */
.card-body input.form-control {
    border-radius: 0.5rem;
    padding: 0.75rem;
    border: 1px solid #000;
    background-color: #fff;
    color: #000 !important;
}

/* Save button styling - black and white only */
.btn-save {
    background-color: #000;
    color: #fff;
    font-weight: 600;
    padding: 0.75rem 1.75rem;
    border: none;
    transition: all 0.3s ease-in-out;
    display: inline-flex;
    align-items: center;
}

.btn-save:hover {
    background-color: #333;
    transform: translateY(-2px);
}

.btn-save .btn-icon {
    transition: transform 0.4s ease-in-out;
}

.btn-save:hover .btn-icon {
    transform: rotate(20deg) scale(1.2);
}

/* Dark Mode */
body.dark-mode {
    background-color: #111;
    color: #fff;
}

body.dark-mode .card, body.dark-mode .card-header {
    background-color: #000 !important;
    color: #fff !important;
}

body.dark-mode .form-control {
    background-color: #222 !important;
    color: #fff !important;
    border: 1px solid #fff !important;
}

body.dark-mode .btn-save {
    background-color: #fff;
    color: #000;
}

body.dark-mode .btn-save:hover {
    background-color: #ccc;
}

body.dark-mode .btn-save:hover .btn-icon {
    transform: rotate(-20deg) scale(1.2);
}
/* ==================== SAVE BUTTON ==================== */
.btn-save {
    background-color: #ff7e5f; /* bright gradient color for visibility */
    background-image: linear-gradient(135deg, #ff7e5f, #feb47b);
    color: #fff;
    font-weight: 600;
    padding: 0.75rem 2rem;
    border: none;
    border-radius: 50px;
    transition: all 0.3s ease-in-out;
    display: inline-flex;
    align-items: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3); /* slightly raised for visibility */
}

.btn-save:hover {
    background-image: linear-gradient(135deg, #ff6a3d, #fd9d52);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.35);
}

.btn-save .btn-icon {
    transition: transform 0.4s ease-in-out;
}

.btn-save:hover .btn-icon {
    transform: rotate(20deg) scale(1.2);
}

/* Dark mode adjustment */
body.dark-mode .btn-save {
    background-image: linear-gradient(135deg, #4facfe, #00f2fe);
    color: #fff;
}

body.dark-mode .btn-save:hover {
    background-image: linear-gradient(135deg, #2193b0, #6dd5ed);
}

/* Dark mode adjustment for Save button */
body.dark-mode .btn-save {
    background-color: #000; /* dark button to match theme */
    color: #fff; /* text white */
    box-shadow: 0 0 10px #fff, 0 0 20px #fff; /* white glowing shadow */
   
    border: none;
    transition: all 0.3s ease-in-out;
}

body.dark-mode .btn-save:hover {
    background-color: #222; /* slightly lighter on hover */
    box-shadow: 0 0 15px #fff, 0 0 25px #fff; /* stronger glow on hover */
}

</style>
{% endblock %}
